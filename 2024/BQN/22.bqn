#!/usr/bin/env bqn
âŸ¨Ints, InputâŸ© â† â€¢Import "../../utils/utils.bqn"
l â† Ints â€¢FChars 2024â€¿22 Input â€¢args

_step_ â† { sâ€¿e _ğ•£_ len:
  shift â† {sâ‰¥0? (sâ¥Š0)âŠ¸Â«; ((-s)â¥Š0)âŠ¸Â»}
  mask â† (32Ã—len) â¥Š 32â†‘ (-s)â‰¤â†•e-s
  âŠ¢ â‰  mask âˆ§ Shift
}

Next â† âŠ¢
Next â†©  Â¯6â€¿18 _step_ (â‰ l) Next # << 6
Next â†©   5â€¿24 _step_ (â‰ l) Next # >> 5
Next â†© Â¯11â€¿13 _step_ (â‰ l) Next # << 11

steps â† (â¥Š1â€¿32â€¢bit._cast)Â¨ NextâŸ(â†•2001) 32â€¿1â€¢bit._cast l

â€¢Show +Â´Â¯1âŠ‘steps

prices â† â‰ 10| >steps
deltas â† (1âŠ¸â†“ - Â¯1âŠ¸â†“)Ë˜ prices
mdeltaâ€¿mprice â† <Ë˜â‰> (<Ë˜ prices) {mâ†âˆŠğ•© â‹„ âŸ¨m/ğ•©, (0â€¿0â€¿0â€¿0âˆ¾m)/ğ•¨âŸ©}Â¨ 4â†•Â¨ <Ë˜ deltas
uniq0 â† âŠâˆ¾mdelta
uniq â† ((â‰ Â¨mdelta) / â†•â‰ l) âŠ” uniq0
zeroes â† (1+âŒˆÂ´uniq0)â¥Š0
â€¢Show âŒˆÂ´ +Â´ uniq {ğ•©âŒ¾(ğ•¨âŠ¸âŠ) zeroes}Â¨ mprice