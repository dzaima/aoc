#!/usr/bin/env bqn
âŸ¨MDSlash, _fx_, InputâŸ© â† â€¢Import "../../utils/utils.bqn"
l â† >â€¢FLines 2024â€¿16 Input â€¢args
nw â† l â‰  '#'
vs â† l = 'S'
ve â† l = 'E'

start â† - 1000 Ã— Ã—Ëœâ‰ l # we want "infinity" to be zero (for Â»/Â«, and also to keep things in i32 range), so we make the start far into the negatives

Mv  â† âŸ¨Â»,Â»Ë˜,Â«,Â«Ë˜âŸ©{ğ•ğ•©}Â¨âŠ¢
MvI â† âŸ¨Â«,Â«Ë˜,Â»,Â»Ë˜âŸ©{ğ•ğ•©}Â¨âŠ¢

dists â† {
  nwâŠ¸Ã—Â¨ âŒŠÂ´âŸ¨
    Mv ğ•©+1,
    {âŒŠÂ´ âŸ¨1âŒ½ğ•©, Â¯1âŒ½ğ•©âŸ©} ğ•©+1000,
    ğ•©
  âŸ©
}_fx_â‰¢ (âŠâŸœ0â€¿start vs)âŒ¾(1âŠ¸âŠ‘) 4â¥Š< 0Â¨vs

best â† (â‹ˆâ¼ MDSlash ve) âŠ‘ âŒŠÂ´dists

â€¢Show best-start

mv1 â† nwâŠ¸âˆ§Â¨ dists = MvI dists-1
r1  â† nwâŠ¸âˆ§Â¨ dists =  1 âŒ½ dists-1000
r3  â† nwâŠ¸âˆ§Â¨ dists = Â¯1 âŒ½ dists-1000
â€¢Show +Â´â¥Šâˆ¨Â´ {
  âˆ¨Â´âŸ¨
    mv1 âˆ§ MvI ğ•©,
    r1  âˆ§  1âŒ½ğ•©,
    r3  âˆ§ Â¯1âŒ½ğ•©,
    ğ•©
  âŸ©
}_fx_â‰¢ (<ve) âˆ§ dists=best

