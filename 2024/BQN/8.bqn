#!/usr/bin/env bqn
âŸ¨MDSlash, InputâŸ© â† â€¢Import "../../utils/utils.bqn"
l â† >â€¢FLines 2024â€¿8 Input â€¢args

n â† â‰ l
fs â† (âŠ '.'âŠ¸â‰ âŠ¸/ â¥Šl) âŠ” MDSlash lâ‰ '.'
x0â€¿y0â€¿x1â€¿y1 â† âˆ¾Â¨ <Ë˜â‰> {
  xy â† <Ë˜â‰>ğ•©
  nsâ†Ã—Ëœ nâ†â‰ ğ•©
  (ns â¥Š Â¬1â†‘Ëœn+1)âŠ¸/Â¨ (n/Â¨xy) âˆ¾ nsâ¥ŠÂ¨xy
}Â¨ fs

ps â† âŸ¨x0â‰Ë˜y0, (x0-x1) â‰Ë˜ y0-y1âŸ©

# ! 1 = âŒˆÂ´ (x0-x1) â€¢math.GCDâ—‹| y0-y1

InBounds â† âˆ§ËË˜ â‰¥âŸœ0 âˆ§ <âŸœn

â€¢Show â‰ â· InBoundsâŠ¸/ +Â´ps

â€¢Show â‰ â· âˆ¾ âŠ‘Â¨ { pâ€¿d:
  râ†p+d
  (InBounds r)âŠ¸/Â¨ âŸ¨r, dâŸ©
}âŸ(â†•n) ps