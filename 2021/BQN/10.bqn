#!/usr/bin/env bqn
l ← •FLines ≠◶"10.in"‿⊑ •args

p1‿p2 ← <˘⍉>{
  s ← "[]()<>{}"
  i ← s⊐𝕩
  o ← 2|i
  d ← (+`¯1⋆o) - ¬o
  oob ← 2⥊≠𝕩
  score ← 57‿3‿25137‿1197‿0⊑˜ 2÷˜¯1+ (i∾9)⊑˜ ⌊´(⊔d) {(1+2× 0⊑∘⊐˜ =´˘∘‿2⥊ 𝕩∾9⥊˜2|≠𝕩) ⊑ 𝕨∾oob}¨ d⊔⌊i÷2
  ⟨
    score
    {𝕊: 0 {𝕨+5×𝕩}´⌽ " )]}>"⊐ s⊏˜1+ (∾(-2|≠)⊸↑¨ ⌽⊔d) ⊏ i}¨ ↕score=0
  ⟩
}¨ l

•Show +´ p1
•Show (⌊0.5×≠)⊸⊑∧ ∾p2