#!/usr/bin/env bqn
# part 1: 8:43; both: 18:04
âŸ¨RB, B10, Num, Repr, LCM, GCD, Ints, SInts, Split, SplitF, Indices, ReIndex, MDSlash, MDSlashI, Unjoin, Count, _fx_, _fi_, _underSelect_, Select, Tr, TW, _memo, InputâŸ© â† â€¢Import "../../utils/utils.bqn"
l â† IntsÂ¨ â€¢FLines 2025â€¿8 Input â€¢args
n â† â‰ l
o â† â‹â¥Š+Â´Â¨Ã—Ëœ-âŒœËœl
p â† n(|â‹ˆÂ¨âŒŠâˆ˜Ã·Ëœ)nâ†“o
p â‰¤Â´Â¨âŠ¸/â†©

{ # part 1
  c â† â†•â‰ l

  {
    aâ€¿b â† ğ•©âŠc
    aâ‰ b?
    c aÂ¨âŒ¾((b=c)âŠ¸/)â†©
    @
    ;@
  }Â¨ {n=20? 10; 1000}â†‘p
  â€¢Show Ã—Â´3â†‘âˆ¨/â¼c

}

{ # part 2
  # â€¢Show /(216â€¿117â‰¡Â·âŠ‘Â¨âŠâŸœl)Â¨ p
  c â† â†•â‰ l
  iâ†Â¯1
  {ğ•Š:
    z â† pâŠ‘Ëœi+â†©1
    aâ€¿b â† zâŠc
    # â€¢Show âŸ¨"A", , Â¯1+i+â†©1, Ã—Â´âŠ‘Â¨zâŠlâŸ©
    aâ‰ b?
    # â€¢Show âŸ¨aâ€¿b,â‰ â·câŸ©
    c aÂ¨âŒ¾((b=c)âŠ¸/)â†©
    {ğ•Š:â€¢Show Ã—Â´âŠ‘Â¨zâŠl}âŸâŠ¢ doneâ†1= â‰ â·c
    
    done
    ;0
  }â€¢_while_Â¬ 0
}

# true original part 2 with â€¢Exit:
# { # part 2
#   # â€¢Show /(216â€¿117â‰¡Â·âŠ‘Â¨âŠâŸœl)Â¨ p
#   c â† â†•â‰ l
#   iâ†0
#   {ğ•Šz:
#     aâ€¿b â† ğ•©âŠc
#     # â€¢Show âŸ¨"A", , Â¯1+i+â†©1, Ã—Â´âŠ‘Â¨zâŠlâŸ©
#     aâ‰ b?
#     # â€¢Show âŸ¨aâ€¿b,â‰ â·câŸ©
#     c aÂ¨âŒ¾((b=c)âŠ¸/)â†©
#     {ğ•Š:â€¢Show Ã—Â´âŠ‘Â¨zâŠlâ‹„â€¢Exit 1}âŸâŠ¢ 1= â‰ â·c
#     @
#     ;@
#   }Â¨ p
#   â€¢Show Ã—Â´3â†‘âˆ¨/â¼c
# }
