#!/usr/bin/env bqn
âŸ¨InputâŸ© â† â€¢Import "../../utils/utils.bqn"
hâ€¿s â† (âŠ‘â‹ˆ1â†“âŠ¢) â€¢FLines 2025â€¿7 Input â€¢args

h =â†© 'S'
s â†© '^' = âŒ½>s # reverse for aligning with Ë's order

_f â† { Op _ğ•£ ğ•©:
  n â† ğ•©
  h { # ğ•©: accumulator (beam mask/counts); ğ•¨: next line
    m â† ğ•¨ Ã— ğ•© # beams hitting splitters
    n+â†© +Â´ m # count up splits
    (ğ•©Ã—Â¬ğ•¨) Op (Â« Op Â») m # shift splits to sides, and keep counters that didn't hit a splitter
  }Ë s
  n
}

â€¢Show âˆ¨ _f 0
â€¢Show + _f 1
