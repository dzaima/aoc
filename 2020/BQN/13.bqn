#!/usr/bin/env cbqn
âŸ¨Num, Split, LCMâŸ© â† â€¢Import "../../utils/utils.bqn"
l0â€¿l1 â† â€¢FLines â‰ â—¶"13.in"â€¿âŠ‘ â€¢args
t â† Num l0

bs â† NumâŸ(@âŠ¸â‰¢)Â¨ {@Â¨âŒ¾(("x"âŠ¸â‰¡Â¨ğ•©)âŠ¸/)ğ•©} ','Split l1
f â† bsâ‰ @
ns â† f/bs # actual bus numbers
os â† /f # time offsets

nextâ€¿idx â† âŒŠÂ´âŠ¸(âŠ£â‹ˆâ‹ˆâ¼âˆ˜/âˆ˜=) âŒˆâŒ¾(Ã·âŸœns) t
â€¢Show (next-t)Ã—idxâŠ‘ns

â€¢Show âŠ‘0â€¿1 { nâ€¿oğ•Šrâ€¿cy:
  cy2 â† cy LCM n
  r2 â† +âŸœcy â€¢_while_{0â‰ n|ğ•©+o} r
  r2â€¿cy2
}Â´ nsâ‹ˆÂ¨os