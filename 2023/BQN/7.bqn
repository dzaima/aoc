#!/usr/bin/env cbqn
âŸ¨SplitâŸ© â† â€¢Import "utils.bqn"
l â† ' 'SplitÂ¨â€¢FLines â‰ â—¶"7.in"â€¿âŠ‘ â€¢args
k â† âŠ‘Â¨ l
v â† â€¢ParseFloatÂ¨ 1âŠ‘Â¨ l
Winnings â† {+Â´ v Ã— 1+â‹â‹ğ•©}

Rank â† {ğ•©â‰¡âŸ¨5âŸ©? 5; ğ•©â‰¡4â€¿1? 4; ğ•©â‰¡3â€¿2? 3; âŠ‘3âˆŠğ•©? 2; 2â‰¤+Â´2=ğ•©? 1; âŠ‘2âˆŠğ•©? 0; ğ•©â‰¡5â¥Š1? Â¯1; !ğ•©}
rank1 â† {(Rank âˆ¨/â¼âŠ ğ•©)âˆ¾ğ•©âŠËœâŒ½"AKQJT98765432"}Â¨ k
â€¢Show Winnings rank1


# rank2 â† {(âŒˆÂ´{Rank âˆ¨/â¼âŠğ•©}Â¨ ('J'âŠ¸â‰ âŠ¸/ğ•©)âŠ¸âˆ¾Â¨ â¥Š(<âŸ¨âŸ©)<âŠ¸âˆ¾âŒœÂ´(+Â´ğ•©='J')â¥Š<"AKQT98765432")âˆ¾ğ•©âŠËœâŒ½"AKQT98765432J"}Â¨ k # basic extension with cartesian product
rank2 â† {
  c â† âˆ¨/â¼âŠ 'J'âŠ¸â‰ âŠ¸/ ğ•©
  c â†© (5-+Â´c)âŠ¸+âŒ¾âŠ‘ (1âŒˆâ‰ )âŠ¸â†‘ c # redirect all jokers to the otherwise-most-common card
  (Rank c)âˆ¾ğ•©âŠËœâŒ½"AKQT98765432J"
}Â¨ k
â€¢Show Winnings rank2
