#!/usr/bin/env bqn
âŸ¨Split,_fx_,InputâŸ© â† â€¢Import "../../utils/utils.bqn"
l â† 0â€¿1âŠ¸+Â¨ â€¢ParseFloatÂ¨Â¨Â¨ ','SplitÂ¨Â¨'~'SplitÂ¨ â€¢FLines 2023â€¿22 Input â€¢args

{ğ•©!âˆ§Â´<Â´ğ•©}Â¨ l

x0â€¿y0â€¿z0â€¿x1â€¿y1â€¿z1 â† <Ë˜â‰>âˆ¾Â¨l
deps â† {/((2âŠ‘0âŠ‘ğ•©)â‰¥z1) âˆ§ ((0â€¿1âŠ1âŠ‘ğ•©)>x0â€¿y0)âˆ§â—‹(âˆ§Â´)(0â€¿1âŠ0âŠ‘ğ•©)<x1â€¿y1}Â¨ l

bh â† z1-z0
deph â† âŠâŸœbhÂ¨ deps
# â€¢Show deps
# â€¢Show deph

# â€¢Show 'a'+(â‰ Â¨/â†•âˆ˜â‰ )âŠ¸(âŠ”Ëœ)âŸœâˆ¾deps
Step â† {ğ•Šhs: hs âŒˆ {âŒˆÂ´ (ğ•©âŠ‘deph) + âŠâŸœhs ğ•©âŠ‘deps}Â¨âŸœâ†•âŸœâ‰  hs}
h0 â† Step _fx_â‰¢ 0Â¨ l

# â€¢Show h0
â€¢Show +Â´Â¬(â†•â‰ l)âˆŠâˆ¾{mâ†(ğ•©âŠ‘h0) = (ğ•©âŠ‘deph) + âŠâŸœh0 ğ•©âŠ‘deps â‹„ (1=+Â´m)/m/ğ•©âŠ‘deps}Â¨âŸœâ†•âŸœâ‰  h0

deph2â€¿deps2â†@â€¿@
Step2 â† {ğ•Šhs: hs âŒˆ {âŒˆÂ´ (ğ•©âŠ‘deph2) + âŠâŸœhs ğ•©âŠ‘deps2}Â¨âŸœâ†•âŸœâ‰  hs}
â€¢Show +Â´{ğ•Š:
  deph2â€¿deps2 â†© (depsâ‰ ğ•©)âŠ¸(/Â¨)Â¨ dephâ€¿deps
  +Â´ h0 â‰  Step2 _fx_â‰¢ 0Â¨ l
}Â¨ â†•â‰ l