#!/usr/bin/env bqn
âŸ¨MDSlashI, _fx_âŸ© â† â€¢Import "../../utils/utils.bqn"
l â† "#.O" âŠ >â€¢FLines â‰ â—¶"14.in"â€¿âŠ‘ â€¢args


Move â† {m â† (1=Â»ğ•©)âˆ§2=ğ•© â‹„ ğ•© + Â«âŠ¸- m}_fx_â‰¢

# version of Move that doesn't iterate until fixed-point, but about the same speed
# Move â†© {
#   h â† 1âˆ¾h0â†0=ğ•©
#   hi â† /h
#   h0 -Ëœ 1+ â‰ `Â¯1â†“hâ‰ (â‰ h)â†‘/â¼ hi + (â‰ hi)â†‘/â¼ Â¯1+hi â‹ /2=ğ•©
# }Ë˜âŒ¾â‰

Load â† {+Â´ (+ËË˜ Ã— 1+âŒ½âˆ˜â†•âˆ˜â‰ ) 2=ğ•©}

â€¢Show Load Move l
# â€¢Exit 0

p â† âŸ¨âŸ©
v â† l

m â† â€¢HashMapËœ âŸ¨âŸ©
{ ğ•Š:
  pâˆ¾â†© <v
  v â†© MoveâŒ¾(âŒ½â‰) MoveâŒ¾âŒ½ MoveâŒ¾â‰ Move v
  {m.Has v? 0; 1âŠ£ v m.Set â‰ p}
}â€¢_while_âŠ¢ 1

a â† m.Get v
b â† â‰ p

â€¢Show Load pâŠ‘Ëœ a+(b-a)|1000000000-a