#!/usr/bin/env bqn
âŸ¨MDSlashâŸ© â† â€¢Import "../../utils/utils.bqn"
l â† '.'âˆ¾ËœË˜>â€¢FLines â‰ â—¶"3.in"â€¿âŠ‘ â€¢args # adds a column of '.' so that there's always a '.' between adjacent numbers in deshape
nadj â† âˆ¨Â´Â¬âˆŠâŸœ('.'âˆ¾'0'+â†•10)Â¨ âˆ¾'.'(âŠ¢<âŠ¸âˆ¾Â»Ë˜â‹ˆÂ«Ë˜)Â¨ l<âŠ¸âˆ¾ '.'Â¨âˆ˜âŠâŠ¸(Â»â‹ˆÂ«)l
Dâ†â‰¥âŸœ'0'âˆ§â‰¤âŸœ'9'
ml0 â† D â¥Šl
aâ†ml0âŠ¸((Â¬-ËœâŠ¢Ã—Â·+`Â»âŠ¸>)âŠ¸âŠ”) â¥Šl
bâ†âˆ¨Â´Â¨ml0âŠ¸((Â¬-ËœâŠ¢Ã—Â·+`Â»âŠ¸>)âŠ¸âŠ”) â¥Šnadj
â€¢Show +Â´â€¢ParseFloatÂ¨b/a

ni â† ((1+`âŠ¢)âŒ¾â¥ŠÂ¬)âŠ¸Ã— D l # unique identifier for each number
adn â† {0âŠ¸â‰ âŠ¸/â·â¥Š(ğ•©<âŠ¸+Â¯1+â†•3â€¿3)âŠ‘ni}Â¨ MDSlash l='*'

â€¢Show +Â´{Ã—Â´{â€¢ParseFloat l/Ëœâ—‹â¥Šğ•©=ni}Â¨ğ•©}Â¨ adn/Ëœ2â‰¤â‰ Â¨adn