#!/usr/bin/env bqn
âŸ¨_fx_âŸ© â† â€¢Import "../../utils/utils.bqn"
l â† >â€¢FLines â‰ â—¶"16.in"â€¿âŠ‘ â€¢args

data â† {âŸ¨ğ•©âˆŠ"-\",Â¬ğ•©âˆŠ"-/\",ğ•©âˆŠ"-/"âŸ©}Â¨ {âŠâŸœ".-|\/" ".|-/\"âŠâ‰âŒ½ğ•©}âŸ(â†•4) l # preprocess input to the four rotation
z â† 0Â¨ l
Step â† {ğ•©âˆ¨{âˆ¨ËÂ¯1â€¿0â€¿1âŒ½Ë˜â‰>ğ•©} data {aâ€¿bâ€¿cğ•Šğ•©: âŸ¨Â»â‰âŒ½ğ•©âˆ§a, Â»ğ•©âˆ§b, Â»âŒ½â‰ğ•©âˆ§câŸ©}Â¨ ğ•©} # input of downâ€¿rightâ€¿upâ€¿left, all ordered such that they go downwards
Run â† {+Â´â¥Šâˆ¨Â´ {âŒ½âˆ˜â‰âŸğ•©ğ•¨}Â¨âŸœâ†•âŸœâ‰  Step _fx_â‰¢ ğ•©}
â€¢Show Run âŸ¨z,1âŒ¾(0â€¿Â¯1âŠ¸âŠ‘)z,z,zâŸ©
â€¢Show âŒˆÂ´â¥Š (â†•4) {Run 1âŒ¾(0â€¿ğ•©âŠ‘ğ•¨âŠ‘âŠ¢) 4â¥Š<z}âŒœ â†•â‰ l
