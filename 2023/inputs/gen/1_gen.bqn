#!/usr/bin/env bqn
"1_ones.in" â€¢FLines "1"âŠ¸+Â¨ 100 (â€¢MakeRand 1).Range 9
"1_twos.in" â€¢FLines <Ë˜ '1' + 100â€¿2 (â€¢MakeRand 2).Range 9

# {â€¢Show âŸ¨(+Â´Ã·â‰ )ğ•©, âŒˆÂ´ğ•©, +Â´ğ•©âŸ© â‹„ 60â†‘â‰1 â†•âˆ˜â‰ âŠ¸{(ğ•©â‰ 0) /â‰1 ğ•¨â‰ğ•©} âŒŠ100Ã—(âŠ¢Ã·âŒˆÂ´) /â¼ ğ•©} lengths

MkRand â† { seed ğ•Š target:
  Range â† (â€¢MakeRand seed).Range
  baseset â† âˆ¾1â€¿3 / "1a" +âŸœâ†•Â¨ 9â€¿26
  namesBelow â† "one"â€¿"two"â€¿"three"â€¿"four"â€¿"five"â€¿"six"â€¿"seven"â€¿"eight"â€¿"nine"âŠ¸{(ğ•©â‰¥â‰ Â¨ğ•¨)/ğ•¨}Â¨ â†•6
  MkLine â† { ğ•Š l:
    a â† (l Range â‰ )âŠ¸âŠ baseset # base text
    
    { # sprinkle in names
      a ğ•©âŒ¾(((â†•â‰ ğ•©) + Range 1+a -â—‹â‰  ğ•©)âŠ¸âŠ)â†©
      @
    }Â¨ ({lâ‰¥3? Range âŒˆlÃ·2.9; 0}Rangeâ‰ )âŠ¸âŠ (5âŒŠl)âŠ‘namesBelow
    
    {ğ•Š: # have at least one digit
      a ('1'+Range 9)âŒ¾((Range â‰ a)âŠ¸âŠ‘)â†©
    }âŸÂ¬ âˆ¨Â´ (aâ‰¥'1') âˆ§ (aâ‰¤'9')
    a
  }
  LnLengths â† {ğ•Š n: 1+ 1000 âŒŠ 1 âŒˆ (+Ë2â€¿n Range 20) + âŒŠÃ·1-Ã—Ëœ n Range 0}
  
  l â† âŸ¨âŸ©
  { ğ•Š:
    c â† LnLengths âŒˆtargetÃ·100
    lâˆ¾â†© c
    ğ•© + +Â´ c
  }â€¢_while_{ğ•Š: ğ•© â‰¤ target} 0
  
  MkLineÂ¨ Â¯1+ {ğ•©âˆ¾target-+Â´ğ•©} ((target-2) â‰¥ +`l) / l
}

# 30 {! ğ•¨ = +Â´1+â‰ Â¨ ğ•© MkRand ğ•¨}Â¨ 100000 â€¢rand.Range 0
"1_100KB.in" â€¢FLines 3 MkRand 100e3
"1_1MB.in"   â€¢FLines 4 MkRand 1e6
"1_10MB.in"  â€¢FLines 5 MkRand 10e6
"1_50MB.in"  â€¢FLines 6 MkRand 50e6